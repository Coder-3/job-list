(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{183:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(13),l=a.n(r),c=(a(80),a(7)),o=a(49),i=a.n(o),u=a(25),d=a.n(u),b=a(50),j=a(20),x=a.n(j),m="/api/tasks",f={getAll:function(){return x.a.get(m).then((function(e){return e.data}))},getTask:function(e){return x.a.get("".concat(m,"/").concat(e)).then((function(e){return e.data}))},create:function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(m,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat(m,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return x.a.put("".concat(m,"/").concat(e),t).then((function(e){return e.data}))}},h=a(26),p=a(74),g=a.n(p),v=(a(110),a(3));i.a.setAppElement("#root");var O=function(e){var t=e.formType,a=e.job,n=e.updateJobList,r=e.closeForm,l=e.teamMembers,o=Object(s.useState)(a.jobNumber),i=Object(c.a)(o,2),u=i[0],d=i[1],b=Object(s.useState)(a.jobLink),j=Object(c.a)(b,2),x=j[0],m=j[1],p=Object(s.useState)(a.dueDate?new Date(a.dueDate):new Date),O=Object(c.a)(p,2),y=O[0],w=O[1],N=Object(s.useState)(a.maxHours),k=Object(c.a)(N,2),S=k[0],L=k[1],C=Object(s.useState)(a.assignee?l.filter((function(e){return a.assignee.includes(" ".concat(e.label))})):[]),D=Object(c.a)(C,2),M=D[0],A=D[1],J=Object(s.useState)(a.description),H=Object(c.a)(J,2),B=H[0],V=H[1],T=Object(s.useState)(a.status?a.status:{value:"toStart",label:"To Start"}),I=Object(c.a)(T,2),P=I[0],F=I[1],W=function(){return d(""),w(""),L(""),A(""),V(""),null};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"bg-white flex flex-col justify-center",children:Object(v.jsx)("div",{className:"relative sm:max-w-xl sm:mx-auto",children:Object(v.jsx)("div",{className:"relative bg-gray-200 px-4 py-10 bg-white mx-8 md:mx-0 shadow rounded-3xl sm:p-10",children:Object(v.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(v.jsxs)("div",{className:"flex items-center space-x-5",children:[Object(v.jsx)("div",{className:"h-14 w-14 bg-gray-900 rounded-md flex flex-shrink-0 justify-center items-center text-white text-2xl",children:"JL"}),Object(v.jsx)("div",{className:"block pl-2 pt-2 font-semibold text-xl self-start text-gray-700",children:Object(v.jsx)("h2",{className:"leading-relaxed",children:"Job"})})]}),Object(v.jsxs)("div",{className:"divide-y divide-gray-200",children:[Object(v.jsxs)("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(v.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{className:"leading-loose",children:"Job Number"}),Object(v.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)},className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{className:"leading-loose",children:"Job Link"}),Object(v.jsx)("input",{type:"text",value:x,placeholder:"https://...",onChange:function(e){return m(e.target.value)},className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]})]}),Object(v.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{className:"leading-loose",children:"Due Date"}),Object(v.jsxs)("div",{className:"relative focus-within:text-gray-600 text-gray-400",children:[Object(v.jsx)(g.a,{dateFormat:"yyyy-MM-dd",selected:y,onChange:function(e){return w(e)},className:"pl-10 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"}),Object(v.jsx)("div",{className:"absolute left-3 top-2",children:Object(v.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{className:"leading-loose",children:"Max Hours"}),Object(v.jsx)("input",{type:"text",value:S,onChange:function(e){return L(e.target.value)},className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]})]}),Object(v.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(v.jsxs)("div",{className:"flex flex-col w-1/2",children:[Object(v.jsx)("label",{className:"leading-loose",children:"Assignee"}),Object(v.jsx)(h.a,{options:l,defaultValue:M,onChange:A,isMulti:!0,isSearchable:!0})]}),Object(v.jsxs)("div",{className:"flex flex-col w-1/2",children:[Object(v.jsx)("label",{className:"leading-loose",children:"Status"}),Object(v.jsx)(h.a,{options:[{value:"toStart",label:"To Start"},{value:"inProgress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"}],defaultValue:P,onChange:F,isSearchable:!0})]})]}),Object(v.jsxs)("div",{className:"flex flex-col",children:[Object(v.jsx)("label",{className:"leading-loose",children:"Description"}),Object(v.jsx)("input",{type:"text",value:B,onChange:function(e){return V(e.target.value)},className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]})]}),Object(v.jsxs)("div",{className:"pt-4 flex items-center space-x-4",children:[Object(v.jsxs)("button",{onClick:function(){return r()},className:"flex justify-center items-center w-full text-gray-900 px-4 py-3 rounded-md focus:outline-none",children:[Object(v.jsx)("svg",{className:"w-6 h-6 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})," Cancel"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault();var s=[];s=P instanceof Array?P:new Array(P);var l={jobNumber:u,jobLink:x,dueDate:new Date(y),maxHours:S,assignee:M,description:B,status:s};"add"===t?f.create(l).then((function(e){W(),n(),r()})):"edit"===t&&f.update(a.id,l).then((function(e){W(),n(),r()}))},className:"bg-blue-500 flex justify-center items-center w-full text-white px-4 py-3 rounded-md focus:outline-none",children:"Submit"})]})]})]})})})})})},y=function(e){var t=e.jobNumber,a=e.jobLink,s=e.dueDate,n=e.maxHours,r=e.assignee,l=e.description,c=e.status,o=e.editJob,i=e.deleteJob;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:a?Object(v.jsx)("a",{className:"text-blue-600 hover:text-blue-900",href:a,target:"_blank",rel:"noreferrer",children:t}):t}),Object(v.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap ".concat(function(){var e=new Date(s.toString().slice(0,15)),t=new Date,a=Math.ceil((e-t)/864e5);return a<0?"text-red-600 font-bold":0===a?"text-yellow-600 font-semibold":1===a?"font-medium":void 0}()),children:s.toString().slice(0,10)}),Object(v.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:n}),Object(v.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:r}),Object(v.jsx)("td",{className:"py-3 px-6 text-left break-normal max-w-sm",children:l}),Object(v.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:c}),Object(v.jsx)("td",{className:"border-b hover:bg-gray-100",children:Object(v.jsxs)("div",{className:"flex item-center justify-center",children:[Object(v.jsx)("div",{className:"w-4 mr-2 transform hover:text-blue-600 hover:scale-110",onClick:o,children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),Object(v.jsx)("div",{className:"w-4 mr-2 transform hover:text-blue-600 hover:scale-110",onClick:i,children:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})},w=function(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(null),l=Object(c.a)(r,2),o=l[0],u=l[1],d=Object(s.useState)(!1),b=Object(c.a)(d,2),j=b[0],x=b[1],m=Object(s.useState)(""),p=Object(c.a)(m,2),g=p[0],w=p[1],N=Object(s.useState)([{label:"All"}]),k=Object(c.a)(N,2),S=k[0],L=k[1],C=Object(s.useState)([{value:"toStart",label:"To Start"},{value:"inProgress",label:"In Progress"},{value:"blocked",label:"Blocked"}]),D=Object(c.a)(C,2),M=D[0],A=D[1],J=[{value:"all",label:"All"},{value:"cedric",label:"C\xe9dric"},{value:"dora",label:"Dora"},{value:"kelly",label:"Kelly"},{value:"luke",label:"Luke"},{value:"mihir",label:"Mihir"},{value:"vera",label:"Vera"}],H=function(){f.getAll().then((function(e){var t=e.map((function(e){return{id:e.id,jobNumber:e.jobNumber,jobLink:e.jobLink,dueDate:new Date(e.dueDate),maxHours:e.maxHours,assignee:e.assignee.map((function(e){return" ".concat(e.label)})),description:e.description,status:e.status}}));n(t)}))};Object(s.useEffect)((function(){H()}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("nav",{className:"bg-gray-200 shadow",children:Object(v.jsxs)("div",{className:"mx-auto px-6 py-3 md:flex md:justify-between md:items-center",children:[Object(v.jsx)("div",{className:"flex justify-between items-center",children:Object(v.jsx)("div",{children:Object(v.jsx)("p",{className:"text-gray-800 text-xl font-bold md:text-2xl hover:text-gray-700",children:"HBK Job List"})})}),Object(v.jsx)("div",{className:"md:flex items-center",children:Object(v.jsx)("div",{className:"flex flex-col md:flex-row md:mx-6",children:Object(v.jsx)("button",{className:"my-1 text-sm text-gray-700 font-medium hover:text-blue-600 md:mx-4 md:my-0",onClick:function(){return w("add"),u({}),void x(!0)},children:"Add Job"})})})]})}),Object(v.jsx)(i.a,{isOpen:j,onRequestClose:function(){return x(!1)},style:{overlay:{display:"flex",justifyContent:"center",alignItems:"center"},content:{inset:"unset",padding:0,overflow:"initial",border:"none"}},children:Object(v.jsx)(O,{formType:g,job:o,updateJobList:function(){H()},closeForm:function(){x(!1)},teamMembers:J})}),Object(v.jsx)("div",{className:"min-w-screen bg-white pt-12 overflow-y-auto flex items-center justify-center font-sans",children:Object(v.jsx)("div",{className:"w-full pb-80 lg:w-5/6",children:Object(v.jsxs)("table",{className:"min-w-max w-full table-auto",children:[Object(v.jsx)("thead",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Job Number"}),Object(v.jsx)("th",{children:"Due Date"}),Object(v.jsx)("th",{children:"Max Hours"}),Object(v.jsx)(h.a,{defaultValue:J[0],options:J,onChange:L,placeholder:"Assignee",isMulti:!0,isSearchable:!0}),Object(v.jsx)("th",{children:"Description"}),Object(v.jsx)(h.a,{defaultValue:M,options:[{value:"all",label:"All"},{value:"toStart",label:"To Start"},{value:"inProgress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"}],onChange:A,placeholder:"Status",isSearchable:!0,isMulti:!0}),Object(v.jsx)("th",{children:"Actions"})]})}),Object(v.jsx)("tbody",{className:"text-gray-600 text-sm font-light",children:function(){var e,t=S.map((function(e){return" ".concat(e.label)})),s=M.map((function(e){return e.label}));return e=t.includes(" All")?a:a.filter((function(e){return e.assignee.some((function(e){return t.includes(e)}))})),s.includes("All")?e:e=e.filter((function(e){return s.includes(e.status[0].label)}))}().map((function(e){return Object(v.jsx)(y,{jobId:e.id,jobNumber:e.jobNumber,jobLink:e.jobLink,dueDate:e.dueDate,maxHours:e.maxHours,assignee:"".concat(e.assignee),description:e.description,status:e.status[0].label,deleteJob:function(){return t=e.id,void f.remove(t).then((function(e){n(a.filter((function(e){return e.id!==t})))}));var t},editJob:function(){return function(e){w("edit"),u(e),x(!0)}(e)}},e.id)}))})]})})})]})};l.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(w,{})}),document.getElementById("root"))},80:function(e,t,a){}},[[183,1,2]]]);
//# sourceMappingURL=main.90376a75.chunk.js.map