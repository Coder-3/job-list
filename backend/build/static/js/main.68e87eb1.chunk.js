(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{183:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),l=s(13),r=s.n(l),c=(s(80),s(7)),o=s(36),i=s.n(o),u=s(25),d=s.n(u),b=s(50),x=s(15),j=s.n(x),m="/api/tasks",f={getAll:function(){return j.a.get(m).then((function(e){return e.data}))},getTask:function(e){return j.a.get("".concat(m,"/").concat(e)).then((function(e){return e.data}))},create:function(){var e=Object(b.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post(m,t);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(b.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("".concat(m,"/").concat(t));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return j.a.put("".concat(m,"/").concat(e),t).then((function(e){return e.data}))}},h=s(26),p=s(74),g=s.n(p),O=(s(110),s(3));i.a.setAppElement("#root");var v=function(e){var t=e.formType,s=e.job,n=e.updateJobList,l=e.closeForm,r=e.teamMembers,o=Object(a.useState)(s.jobNumber),i=Object(c.a)(o,2),u=i[0],d=i[1],b=Object(a.useState)(s.jobLink),x=Object(c.a)(b,2),j=x[0],m=x[1],p=Object(a.useState)(s.dueDate?new Date(s.dueDate):new Date),v=Object(c.a)(p,2),y=v[0],w=v[1],N=Object(a.useState)(s.maxHours),k=Object(c.a)(N,2),S=k[0],C=k[1],L=Object(a.useState)(s.assignee?r.filter((function(e){return s.assignee.includes(" ".concat(e.label))})):[]),M=Object(c.a)(L,2),D=M[0],J=M[1],A=Object(a.useState)(s.description),H=Object(c.a)(A,2),B=H[0],V=H[1],I=Object(a.useState)(s.status?s.status:{value:"toStart",label:"To Start"}),T=Object(c.a)(I,2),F=T[0],P=T[1],W=function(){return d(""),w(""),C(""),J(""),V(""),null};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"bg-white flex flex-col justify-center",children:Object(O.jsx)("div",{className:"relative sm:max-w-xl sm:mx-auto",children:Object(O.jsx)("div",{className:"relative bg-gray-200 px-4 py-10 bg-white mx-8 md:mx-0 shadow rounded-3xl sm:p-10",children:Object(O.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(O.jsxs)("div",{className:"flex items-center space-x-5",children:[Object(O.jsx)("div",{className:"h-14 w-14 bg-gray-900 rounded-md flex flex-shrink-0 justify-center items-center text-white text-2xl",children:"JL"}),Object(O.jsx)("div",{className:"block pl-2 pt-2 font-semibold text-xl self-start text-gray-700",children:Object(O.jsx)("h2",{className:"leading-relaxed",children:"Job"})})]}),Object(O.jsxs)("div",{className:"divide-y divide-gray-200",children:[Object(O.jsxs)("div",{className:"py-8 text-base leading-6 space-y-4 text-gray-700 sm:text-lg sm:leading-7",children:[Object(O.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{className:"leading-loose",children:"Job Number"}),Object(O.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)},className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{className:"leading-loose",children:"Job Link"}),Object(O.jsx)("input",{type:"text",value:j,placeholder:"https://...",onChange:function(e){return m(e.target.value)},className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]})]}),Object(O.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{className:"leading-loose",children:"Due Date"}),Object(O.jsxs)("div",{className:"relative focus-within:text-gray-600 text-gray-400",children:[Object(O.jsx)(g.a,{dateFormat:"yyyy-MM-dd",selected:y,onChange:function(e){return w(e)},className:"pl-10 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"}),Object(O.jsx)("div",{className:"absolute left-3 top-2",children:Object(O.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{className:"leading-loose",children:"Max Hours"}),Object(O.jsx)("input",{type:"text",value:S,onChange:function(e){return C(e.target.value)},className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]})]}),Object(O.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(O.jsxs)("div",{className:"flex flex-col w-1/2",children:[Object(O.jsx)("label",{className:"leading-loose",children:"Assignee"}),Object(O.jsx)(h.a,{options:r,defaultValue:D,onChange:J,isMulti:!0,isSearchable:!0})]}),Object(O.jsxs)("div",{className:"flex flex-col w-1/2",children:[Object(O.jsx)("label",{className:"leading-loose",children:"Status"}),Object(O.jsx)(h.a,{options:[{value:"toStart",label:"To Start"},{value:"inProgress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"}],defaultValue:F,onChange:P,isSearchable:!0})]})]}),Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{className:"leading-loose",children:"Description"}),Object(O.jsx)("input",{type:"text",value:B,onChange:function(e){return V(e.target.value)},className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]})]}),Object(O.jsxs)("div",{className:"pt-4 flex items-center space-x-4",children:[Object(O.jsxs)("button",{onClick:function(){return l()},className:"flex justify-center items-center w-full text-gray-900 px-4 py-3 rounded-md focus:outline-none",children:[Object(O.jsx)("svg",{className:"w-6 h-6 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})," Cancel"]}),Object(O.jsx)("button",{onClick:function(e){e.preventDefault();var a=[];a=F instanceof Array?F:new Array(F);var r={jobNumber:u,jobLink:j,dueDate:new Date(y),maxHours:S,assignee:D,description:B,status:a};"add"===t?f.create(r).then((function(e){W(),n(),l()})):"edit"===t&&f.update(s.id,r).then((function(e){W(),n(),l()}))},className:"bg-blue-500 flex justify-center items-center w-full text-white px-4 py-3 rounded-md focus:outline-none",children:"Submit"})]})]})]})})})})})},y=function(e){var t=e.jobNumber,s=e.jobLink,a=e.dueDate,n=e.maxHours,l=e.assignee,r=e.description,c=e.status,o=e.editJob,i=e.deleteJob;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:s?Object(O.jsx)("a",{className:"text-blue-600 hover:text-blue-900",href:s,target:"_blank",rel:"noreferrer",children:t}):t}),Object(O.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap ".concat(function(){var e=new Date(a.toString().slice(0,15)),t=new Date,s=Math.ceil((e-t)/864e5);return s<0?"text-red-600 font-bold":0===s?"text-yellow-600 font-semibold":1===s?"font-medium":void 0}()),children:a.toString().slice(0,10)}),Object(O.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:n}),Object(O.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:l}),Object(O.jsx)("td",{className:"py-3 px-6 text-left break-normal max-w-sm",children:r}),Object(O.jsx)("td",{className:"py-3 px-6 text-left whitespace-nowrap",children:c}),Object(O.jsx)("td",{className:"border-b hover:bg-gray-100",children:Object(O.jsxs)("div",{className:"flex item-center justify-center",children:[Object(O.jsx)("div",{className:"w-4 mr-2 transform hover:text-blue-600 hover:scale-110",onClick:o,children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),Object(O.jsx)("div",{className:"w-4 mr-2 transform hover:text-blue-600 hover:scale-110",onClick:i,children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})},w=function(e){e.emailJob;var t=e.show,s=e.teamMembers,n=Object(a.useState)(""),l=Object(c.a)(n,2),r=l[0],o=l[1];return Object(O.jsx)("div",{className:"bg-white flex flex-col justify-center",children:Object(O.jsx)("div",{className:"relative sm:max-w-xl sm:mx-auto",children:Object(O.jsxs)("div",{className:"relative bg-gray-200 px-4 py-10 bg-white mx-8 md:mx-0 shadow rounded-3xl sm:p-10",children:[Object(O.jsx)("div",{className:"flex items-center space-x-4",children:Object(O.jsxs)("div",{className:"flex flex-col",children:[Object(O.jsx)("label",{className:"leading-loose",children:"GIF Link"}),Object(O.jsx)("input",{type:"text",value:r,placeholder:"https:// ... .gif",onChange:function(e){return o(e.target.value)},className:"px-9 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600"})]})}),Object(O.jsxs)("div",{className:"pt-4 flex items-center space-x-4",children:[Object(O.jsxs)("button",{onClick:function(){return t(!1)},className:"flex justify-center items-center w-full text-gray-900 px-4 py-3 rounded-md focus:outline-none",children:[Object(O.jsx)("svg",{className:"w-6 h-6 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})," Cancel"]}),Object(O.jsx)("button",{onClick:function(){var e=[s.splice(1,s.length),r];j.a.post("/api/email",e)},className:"bg-blue-500 flex justify-center items-center w-full text-white px-4 py-3 rounded-md focus:outline-none",children:"Submit"})]})]})})})},N=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),s=t[0],n=t[1],l=Object(a.useState)(null),r=Object(c.a)(l,2),o=r[0],u=r[1],d=Object(a.useState)(!1),b=Object(c.a)(d,2),x=b[0],j=b[1],m=Object(a.useState)(!1),p=Object(c.a)(m,2),g=p[0],N=p[1],k=Object(a.useState)(!1),S=Object(c.a)(k,2),C=S[0],L=S[1],M=Object(a.useState)(""),D=Object(c.a)(M,2),J=D[0],A=D[1],H=Object(a.useState)([{label:"All"}]),B=Object(c.a)(H,2),V=B[0],I=B[1],T=Object(a.useState)([{value:"toStart",label:"To Start"},{value:"inProgress",label:"In Progress"},{value:"blocked",label:"Blocked"}]),F=Object(c.a)(T,2),P=F[0],W=F[1],E=[{value:"all",label:"All"},{value:"cedric",label:"C\xe9dric"},{value:"dora",label:"Dora"},{value:"kelly",label:"Kelly"},{value:"luke",label:"Luke"},{value:"mihir",label:"Mihir"},{value:"vera",label:"Vera"}],q=function(){f.getAll().then((function(e){var t=e.map((function(e){return{id:e.id,jobNumber:e.jobNumber,jobLink:e.jobLink,dueDate:new Date(e.dueDate),maxHours:e.maxHours,assignee:e.assignee.map((function(e){return" ".concat(e.label)})),description:e.description,status:e.status}}));n(t)}))};Object(a.useEffect)((function(){q()}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("nav",{className:"bg-gray-200 shadow",children:Object(O.jsxs)("div",{className:"mx-auto px-6 py-3 md:flex md:justify-between md:items-center",children:[Object(O.jsx)("div",{className:"flex justify-between items-center",children:Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"text-gray-800 text-xl font-bold md:text-2xl hover:text-gray-700",children:"HBK Job List"})})}),Object(O.jsxs)("div",{className:"md:flex items-center",children:[Object(O.jsx)("div",{className:"flex flex-col md:flex-row md:mx-6",children:Object(O.jsx)("button",{className:"my-1 text-sm ".concat(x?"text-gray-400 hover:text-blue-300":"text-gray-700 hover:text-blue-600"," font-medium md:mx-0 md:my-0"),disabled:x,onClick:function(){return j(!0),void L(!0)},children:"Email Job List"})}),Object(O.jsx)("div",{className:"flex flex-col md:flex-row md:mx-6",children:Object(O.jsx)("button",{className:"my-1 text-sm text-gray-700 font-medium hover:text-blue-600 md:mr-2 md:my-0",onClick:function(){return A("add"),u({}),void N(!0)},children:"Add Job"})})]})]})}),Object(O.jsx)(i.a,{isOpen:g,onRequestClose:function(){return N(!1)},style:{overlay:{display:"flex",justifyContent:"center",alignItems:"center"},content:{inset:"unset",padding:0,overflow:"initial",border:"none"}},children:Object(O.jsx)(v,{formType:J,job:o,updateJobList:function(){q()},closeForm:function(){N(!1)},teamMembers:E})}),Object(O.jsx)(i.a,{isOpen:C,onRequestClose:function(){return L(!1)},style:{overlay:{display:"flex",justifyContent:"center",alignItems:"center"},content:{inset:"unset",padding:0,overflow:"initial",border:"none"}},children:Object(O.jsx)(w,{teamMembers:E,show:L})}),Object(O.jsx)("div",{className:"min-w-full bg-white pt-12 overflow-y-auto flex items-center justify-center font-sans",children:Object(O.jsx)("div",{className:"w-full pb-80 mx-3 lg:w-full",children:Object(O.jsxs)("table",{className:"min-w-max w-full table-auto",children:[Object(O.jsx)("thead",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Job Number"}),Object(O.jsx)("th",{children:"Due Date"}),Object(O.jsx)("th",{children:"Max Hours"}),Object(O.jsx)(h.a,{defaultValue:E[0],options:E,onChange:I,placeholder:"Assignee",isMulti:!0,isSearchable:!0}),Object(O.jsx)("th",{children:"Description"}),Object(O.jsx)(h.a,{defaultValue:P,options:[{value:"all",label:"All"},{value:"toStart",label:"To Start"},{value:"inProgress",label:"In Progress"},{value:"blocked",label:"Blocked"},{value:"completed",label:"Completed"}],onChange:W,placeholder:"Status",isSearchable:!0,isMulti:!0}),Object(O.jsx)("th",{children:"Actions"})]})}),Object(O.jsx)("tbody",{className:"text-gray-600 text-sm font-light",children:function(){var e,t=V.map((function(e){return" ".concat(e.label)})),a=P.map((function(e){return e.label}));return e=t.includes(" All")?s:s.filter((function(e){return e.assignee.some((function(e){return t.includes(e)}))})),a.includes("All")?e:e=e.filter((function(e){return a.includes(e.status[0].label)}))}().map((function(e){return Object(O.jsx)(y,{jobId:e.id,jobNumber:e.jobNumber,jobLink:e.jobLink,dueDate:e.dueDate,maxHours:e.maxHours,assignee:"".concat(e.assignee),description:e.description,status:e.status[0].label,deleteJob:function(){return t=e.id,void f.remove(t).then((function(e){n(s.filter((function(e){return e.id!==t})))}));var t},editJob:function(){return function(e){A("edit"),u(e),N(!0)}(e)}},e.id)}))})]})})})]})};r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root"))},80:function(e,t,s){}},[[183,1,2]]]);
//# sourceMappingURL=main.68e87eb1.chunk.js.map